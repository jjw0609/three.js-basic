(()=>{"use strict";var n,e={905:(n,e,t)=>{t(6204),t(8571),t(2823),t(478),t(6272),t(9477),t(4891),t(5968),t(2),t(1135),t(543),t(6021);var o=t(6075),r=t(8012),i=t(636),a=t(3653);t(9116),t(6074),t(4307);function s(n){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s(n)}function c(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,l(o.key),o)}}function u(n,e,t){return e&&c(n.prototype,e),t&&c(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function l(n){var e=function(n,e){if("object"!=s(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==s(e)?e:String(e)}var d=u((function n(e){var t,o,r,i=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.mouseMoved,e.addEventListener("mousedown",(function(n){t=n.clientX,o=n.clientY,r=Date.now()})),e.addEventListener("mouseup",(function(n){var e=Math.abs(n.clientX-t),a=Math.abs(n.clientY-o),s=Date.now()-r;i.mouseMoved=e>5||a>5||s>500}))}));function f(n){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f(n)}function h(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,y(o.key),o)}}function y(n){var e=function(n,e){if("object"!=f(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==f(e)?e:String(e)}var w=function(){function n(e){var t=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.scene=e.scene,this.cannonWorld=e.cannonWorld,this.index=e.index,this.width=e.width||.6,this.height=e.height||1,this.depth=e.depth||.2,this.x=e.x||0,this.y=e.y||.5,this.z=e.z||0,this.rotationY=e.rotationY||0,e.gltfLoader.load("./models/domino.glb",(function(n){t.modelMesh=n.scene.children[0],t.modelMesh.name="".concat(t.index,"번 도미노"),t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),t.scene.add(t.modelMesh),t.setCannonBody()}))}var e,t,o;return e=n,(t=[{key:"setCannonBody",value:function(){var n=new a.xu(new a.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new a.uT({mass:1,position:new a.AO(this.x,this.y,this.z),shape:n}),this.cannonBody.quaternion.setFromAxisAngle(new a.AO(0,1,0),this.rotationY),this.modelMesh.cannonBody=this.cannonBody,this.cannonWorld.addBody(this.cannonBody)}}])&&h(e.prototype,t),o&&h(e,o),Object.defineProperty(e,"prototype",{writable:!1}),n}();function p(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return a=n.done,n},e:function(n){s=!0,i=n},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}!function(){var n=document.querySelector("#three-canvas"),e=new o.CP7({canvas:n,antialias:!0});e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(window.devicePixelRatio>1?2:1),e.shadowMap.enabled=!0,e.shadowMap.type=o.ntZ;var t=new o.xsS,s=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.y=1.5,s.position.z=4,t.add(s);var c=new o.Mig("white",.5);t.add(c);var u=new o.Ox3("white",1);u.position.x=1,u.position.z=2,u.castShadow=!0,t.add(u),new r.z(s,e.domElement);var l=new i.E,f=new a.q3;f.gravity.set(0,-10,0),f.broadphase=new a.BQ(f);var h=new a.F5("default"),y=(new a.F5("rubber"),new a.F5("iron"),new a.kp(h,h,{friction:.01,restitution:.9}));f.defaultContactMaterial=y;var v=new a.JO,m=new a.uT({mass:0,position:new a.AO(0,0,0),shape:v,material:h});m.quaternion.setFromAxisAngle(new a.AO(-1,0,0),Math.PI/2),f.addBody(m);var b=new o.Kj0(new o._12(100,100),new o.Wid({color:"slategray"}));b.rotation.x=-Math.PI/2,b.receiveShadow=!0,t.add(b);for(var g,S=[],O=-3;O<17;O++)g=new w({index:O,scene:t,cannonWorld:f,gltfLoader:l,z:.8*-O}),S.push(g);var x=new o.SUY,j=new o.iMs,M=new o.FM8;window.addEventListener("resize",(function(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight),e.render(t,s)})),n.addEventListener("click",(function(e){A.mouseMoved||(M.x=e.clientX/n.clientWidth*2-1,M.y=-(e.clientY/n.clientHeight*2-1),function(){j.setFromCamera(M,s);var n,e=p(j.intersectObjects(t.children));try{for(e.s();!(n=e.n()).done;){n.value.object.cannonBody.applyForce(new a.AO(0,0,-100),new a.AO(0,0,0));break}}catch(n){e.e(n)}finally{e.f()}}())}));var A=new d(n);!function n(){var o=x.getDelta(),r=1/60;o<.01&&(r=1/120),f.step(r,o,3),S.forEach((function(n){n.cannonBody&&(n.modelMesh.position.copy(n.cannonBody.position),n.modelMesh.quaternion.copy(n.cannonBody.quaternion))})),e.render(t,s),e.setAnimationLoop(n)}()}()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.m=e,n=[],o.O=(e,t,r,i)=>{if(!t){var a=1/0;for(l=0;l<n.length;l++){for(var[t,r,i]=n[l],s=!0,c=0;c<t.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((n=>o.O[n](t[c])))?t.splice(c--,1):(s=!1,i<a&&(a=i));if(s){n.splice(l--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[t,r,i]},o.d=(n,e)=>{for(var t in e)o.o(e,t)&&!o.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),o.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n={179:0};o.O.j=e=>0===n[e];var e=(e,t)=>{var r,i,[a,s,c]=t,u=0;if(a.some((e=>0!==n[e]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var l=c(o)}for(e&&e(t);u<a.length;u++)i=a[u],o.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return o.O(l)},t=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var r=o.O(void 0,[246],(()=>o(905)));r=o.O(r)})();