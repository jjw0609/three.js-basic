(()=>{"use strict";var t,e={811:(t,e,n)=>{n(8571),n(6204),n(2823),n(478),n(6272),n(9477),n(4891),n(5968),n(2),n(1135),n(543),n(6021);var o=n(6075),r=n(636),i=n(3653),a={scene:new o.xsS,gltfLoader:new r.E,mixer:void 0,world:new i.q3,defaultMaterial:new i.F5("default"),glassMaterial:new i.F5("glass"),playerMaterial:new i.F5("player")},c={step:0,backgroundColor:"#3e1322",lightColor:"#ffe9ac",lightOffColor:"#222",floorColor:"#786E12",pillarColor:"#006E00",barColor:"#CD3B3B",glassColor:"black"},u={floor:new o.DvJ(200,1,200),pillar:new o.DvJ(5,10,5),bar:new o.DvJ(.1,.3,25.2),sideLight:new o.xo$(.1,6,6),glass:new o.DvJ(1.2,.05,1.2)},s={floor:new o.xoR({color:c.floorColor}),pillar:new o.xoR({color:c.pillarColor}),bar:new o.xoR({color:c.barColor}),sideLight:new o.xoR({color:c.lightColor}),glass1:new o.xoR({color:c.glassColor,transparent:!0,opacity:.1}),glass2:new o.xoR({color:c.glassColor,transparent:!0,opacity:.1})},l=new Audio;l.src="./sounds/normal.mp3";var f=new Audio;f.src="./sounds/strong.mp3";var p={normal:l,strong:f},y=n(8012),m=n(5435);n(9116),n(6074),n(4307);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,v(o.key),o)}}function b(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:String(e)}var w=b((function t(e){var n,o,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouseMoved,e.addEventListener("mousedown",(function(t){n=t.clientX,o=t.clientY,r=Date.now()})),e.addEventListener("mouseup",(function(t){var e=Math.abs(t.clientX-n),a=Math.abs(t.clientY-o),c=Date.now()-r;i.mouseMoved=e>5||a>5||c>500}))}));n(1551),n(7710);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,j(o.key),o)}}function j(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:String(e)}var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.rotationX=e.rotationX||0,this.rotationY=e.rotationY||0,this.rotationZ=e.rotationZ||0,this.mass=e.mass||0,this.cannonMaterial=e.cannonMaterial||a.defaultMaterial}var e,n,o;return e=t,(n=[{key:"setCannonBody",value:function(){var t=this.cannonMaterial,e=new i.xu(new i.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new i.uT({mass:this.mass,position:new i.AO(this.x,this.y,this.z),shape:e,material:t}),this.cannonBody.quaternion.setFromAxisAngle(new i.AO(0,1,0),this.rotationY),a.world.addBody(this.cannonBody)}}])&&O(e.prototype,n),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,M(o.key),o)}}function M(t){var e=function(t,e){if("object"!=P(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=P(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==P(e)?e:String(e)}function E(t,e,n){return e=B(e),function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],B(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}var T=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=E(this,e,[t])).geometry=u.floor,n.material=s.floor,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new o.Kj0(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.receiveShadow=!0,a.scene.add(n.mesh),n.setCannonBody(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,r&&x(n.prototype,r),i&&x(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(S);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,R(o.key),o)}}function R(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:String(e)}function A(t,e,n){return e=L(e),function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,D()?Reflect.construct(e,n||[],L(t).constructor):e.apply(t,n))}function D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(D=function(){return!!t})()}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}var N=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=A(this,e,[t])).geometry=u.pillar,n.material=s.pillar,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new o.Kj0(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.castShadow=!0,n.mesh.receiveShadow=!0,a.scene.add(n.mesh),n.setCannonBody(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(e,t),n=e,r&&k(n.prototype,r),i&&k(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(S);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,F(o.key),o)}}function F(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=Y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y(e)?e:String(e)}function X(t,e,n){return e=J(e),function(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(I=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}var H=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=X(this,e,[t])).geometry=u.bar,n.material=s.bar,n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new o.Kj0(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.castShadow=!0,n.mesh.receiveShadow=!0,a.scene.add(n.mesh),n.setCannonBody(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(e,t),n=e,r&&Z(n.prototype,r),i&&Z(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(S);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function U(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,$(o.key),o)}}function $(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=W(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:String(e)}var V=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.container||a.scene;this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.geometry=u.sideLight,this.material=s.sideLight,this.mesh=new o.Kj0(this.geometry,this.material),this.mesh.position.set(this.x,this.y,this.z),n.add(this.mesh)}var e,n,r;return e=t,(n=[{key:"turnOff",value:function(){this.mesh.material.color.set(c.lightOffColor)}}])&&U(e.prototype,n),r&&U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function Q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,tt(o.key),o)}}function tt(t){var e=function(t,e){if("object"!=G(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=G(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==G(e)?e:String(e)}function et(t,e,n){return e=ot(e),function(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nt()?Reflect.construct(e,n||[],ot(t).constructor):e.apply(t,n))}function nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nt=function(){return!!t})()}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}var it=function(t){function e(t){var n;switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=et(this,e,[t])).type=t.type,n.step=t.step,n.geometry=u.glass,n.type){case"normal":n.material=s.glass1,n.mass=1;break;case"strong":n.material=s.glass2,n.mass=0}n.width=n.geometry.parameters.width,n.height=n.geometry.parameters.height,n.depth=n.geometry.parameters.depth,n.mesh=new o.Kj0(n.geometry,n.material),n.mesh.position.set(n.x,n.y,n.z),n.mesh.castShadow=!0,n.mesh.receiveShadow=!0,n.mesh.name=n.name,n.mesh.step=n.step,n.mesh.type=n.type,a.scene.add(n.mesh),n.setCannonBody(),n.cannonBody.addEventListener("collide",(function(t){t.contact.getImpactVelocityAlongNormal()>5&&(r.currentTime=0,r.play())}));var r=p[n.type];return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(e,t),n=e,r&&Q(n.prototype,r),i&&Q(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(S);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,ut(o.key),o)}}function ut(t){var e=function(t,e){if("object"!=at(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=at(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==at(e)?e:String(e)}function st(t,e,n){return e=ft(e),function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lt()?Reflect.construct(e,n||[],ft(t).constructor):e.apply(t,n))}function lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lt=function(){return!!t})()}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}var yt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=st(this,e,[t])).width=.5,n.height=.5,n.depth=.5,n.mesh=new o.Kj0(new o.DvJ(n.width,n.height,n.depth),new o.vBJ({transparent:!0,opacity:0})),n.mesh.castShadow=!0,n.mesh.position.set(n.x,n.y,n.z),a.scene.add(n.mesh),a.gltfLoader.load("./models/ilbuni.glb",(function(t){n.modelMesh=t.scene.children[0],n.modelMesh.position.set(n.x,n.y,n.z),n.modelMesh.rotation.set(n.rotationX,n.rotationY,n.rotationZ),n.modelMesh.castShadow=!0,a.scene.add(n.modelMesh),n.modelMesh.animations=t.animations,a.mixer=new o.Xcj(n.modelMesh),n.actions=[],n.actions[0]=a.mixer.clipAction(n.modelMesh.animations[0]),n.actions[1]=a.mixer.clipAction(n.modelMesh.animations[1]),n.actions[2]=a.mixer.clipAction(n.modelMesh.animations[2]),n.actions[2].repetitions=1,n.actions[0].play(),n.setCannonBody()})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(e,t),n=e,r&&ct(n.prototype,r),i&&ct(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(S);function mt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var dt=document.querySelector("#three-canvas"),bt=new o.CP7({canvas:dt,antialias:!0});bt.setSize(window.innerWidth,window.innerHeight),bt.setPixelRatio(window.devicePixelRatio>1?2:1),bt.shadowMap.enabled=!0,bt.shadowMap.type=o.ntZ,a.scene.background=new o.Ilk(c.backgroundColor);var vt=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),wt=vt.clone();vt.position.x=-4,vt.position.y=19,vt.position.z=14,wt.position.y=0,wt.lookAt(0,1,0),a.scene.add(vt,wt);var gt=new o.Mig(c.lightColor,.8);a.scene.add(gt);var Ot=50,jt=new o.PMe(c.lightColor,1);jt.castShadow=!0;var St=jt.clone(),Pt=jt.clone(),xt=jt.clone();jt.position.set(-50,Ot,Ot),St.position.set(Ot,Ot,Ot),Pt.position.set(-50,Ot,-50),xt.position.set(Ot,Ot,-50),a.scene.add(jt,St,Pt,xt);var Mt=new y.z(vt,bt.domElement);Mt.enableDamping=!0,a.world.gravity.set(0,-10,0);var Et=new i.kp(a.defaultMaterial,a.defaultMaterial,{friction:.3,restitution:.2}),_t=new i.kp(a.glassMaterial,a.defaultMaterial,{friction:1,restitution:0}),Bt=new i.kp(a.playerMaterial,a.glassMaterial,{friction:1,restitution:0});a.world.defaultContactMaterial=Et,a.world.addContactMaterial(_t),a.world.addContactMaterial(Bt);var Ct=1.2,Tt=10,zt=[],kt=(new T({name:"floor"}),new N({name:"pillar",x:0,y:5.5,z:12*-1.2-.6})),Rt=new N({name:"pillar",x:0,y:5.5,z:14.999999999999998});zt.push(kt,Rt);for(var At=new H({name:"bar",x:-1.6,y:10.3,z:0}),Dt=(new H({name:"bar",x:-.4,y:10.3,z:0}),new H({name:"bar",x:.4,y:10.3,z:0}),new H({name:"bar",x:1.6,y:10.3,z:0})),Lt=[],qt=0;qt<49;qt++)Lt.push(new V({name:"sideLight",container:At.mesh,z:.5*qt-12}));for(var Nt=0;Nt<49;Nt++)Lt.push(new V({name:"sideLight",container:Dt.mesh,z:.5*Nt-12}));for(var Yt=[],Zt=[],Ft=0;Ft<Tt;Ft++)Zt.push(-(Ft*Ct*2-9*Ct));for(var Xt=0;Xt<Tt;Xt++){switch(Math.round(Math.random())){case 0:Yt=["normal","strong"];break;case 1:Yt=["strong","normal"]}var It=new it({step:Xt+1,name:"glass-".concat(Yt[0]),x:-1,y:10.5,z:Zt[Xt],type:Yt[0],cannonMaterial:a.glassMaterial}),Jt=new it({step:Xt+1,name:"glass-".concat(Yt[1]),x:1,y:10.5,z:Zt[Xt],type:Yt[1],cannonMaterial:a.glassMaterial});zt.push(It,Jt)}var Kt=new yt({name:"player",x:0,y:10.9,z:13,rotationY:Math.PI,cannonMaterial:a.playerMaterial,mass:30});zt.push(Kt);var Ht=new o.iMs,Wt=new o.FM8;var Ut=!1,$t=!1,Vt=!1;function Gt(t){if(t.name.indexOf("glass")>=0){if($t||Ut)return;if(t.step-1===c.step){if(Kt.actions[2].stop(),Kt.actions[2].play(),$t=!0,c.step++,"normal"===t.type)setTimeout((function(){Ut=!0,Kt.actions[0].stop(),Kt.actions[1].play(),Lt.forEach((function(t){t.turnOff()})),setTimeout((function(){Vt=!0,Kt.cannonBody.position.y=9,setTimeout((function(){Vt=!1}),3e3)}),2e3)}),700);setTimeout((function(){$t=!1}),1e3),m.ZP.to(Kt.cannonBody.position,{duration:1,x:t.position.x,z:Zt[c.step-1]}),m.ZP.to(Kt.cannonBody.position,{duration:.4,y:12}),c.step===Tt&&"strong"===t.type&&setTimeout((function(){Kt.actions[2].stop(),Kt.actions[2].play(),m.ZP.to(Kt.cannonBody.position,{duration:1,x:0,z:-14}),m.ZP.to(Kt.cannonBody.position,{duration:.4,y:12})}),1500)}}}var Qt=new o.SUY;var te=new w(dt);window.addEventListener("resize",(function(){vt.aspect=window.innerWidth/window.innerHeight,vt.updateProjectionMatrix(),bt.setSize(window.innerWidth,window.innerHeight),bt.render(a.scene,vt)})),dt.addEventListener("click",(function(t){te.mouseMoved||(Wt.x=t.clientX/dt.clientWidth*2-1,Wt.y=-(t.clientY/dt.clientHeight*2-1),function(){Ht.setFromCamera(Wt,vt);var t,e=mt(Ht.intersectObjects(a.scene.children));try{for(e.s();!(t=e.n()).done;){Gt(t.value.object);break}}catch(t){e.e(t)}finally{e.f()}}())})),function t(){var e=Qt.getDelta();a.mixer&&a.mixer.update(e),a.world.step(1/60,e,3),zt.forEach((function(t){t.cannonBody&&("player"===t.name?(t.mesh.position.copy(t.cannonBody.position),Ut&&t.mesh.quaternion.copy(t.cannonBody.quaternion),t.modelMesh&&(t.modelMesh.position.copy(t.cannonBody.position),Ut&&t.modelMesh.quaternion.copy(t.cannonBody.quaternion)),t.modelMesh.position.y+=.15):(t.mesh.position.copy(t.cannonBody.position),t.mesh.quaternion.copy(t.cannonBody.quaternion),t.modelMesh&&(t.modelMesh.position.copy(t.cannonBody.position),t.modelMesh.quaternion.copy(t.cannonBody.quaternion))))})),Mt.update(),Vt?(bt.render(a.scene,wt),wt.position.x=Kt.cannonBody.position.x,wt.position.z=Kt.cannonBody.position.z):bt.render(a.scene,vt),bt.setAnimationLoop(t)}()}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=(e,n,r,i)=>{if(!n){var a=1/0;for(l=0;l<t.length;l++){for(var[n,r,i]=t[l],c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(o.O).every((t=>o.O[t](n[u])))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(l--,1);var s=r();void 0!==s&&(e=s)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,r,i]},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var r,i,[a,c,u]=n,s=0;if(a.some((e=>0!==t[e]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(u)var l=u(o)}for(e&&e(n);s<a.length;s++)i=a[s],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(l)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=o.O(void 0,[465],(()=>o(811)));r=o.O(r)})();